{"ast":null,"code":"import React,{useState,useContext}from'react';import{AuthContext}from'../contexts/AuthContext';import{updatePassword}from'../services/authService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PasswordUpdate=()=>{const{user}=useContext(AuthContext);const[currentPassword,setCurrentPassword]=useState('');const[newPassword,setNewPassword]=useState('');const[message,setMessage]=useState('');const handleSubmit=async e=>{e.preventDefault();try{await updatePassword(currentPassword,newPassword,user.token);setMessage('Password updated successfully');setCurrentPassword('');setNewPassword('');}catch(err){var _err$response,_err$response$data;console.error(err);setMessage(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to update password');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto mt-10 p-6 border rounded shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Update Password\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-2 text-red-500\",children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Current Password\",value:currentPassword,onChange:e=>setCurrentPassword(e.target.value),className:\"border w-full mb-3 p-2\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"New Password\",value:newPassword,onChange:e=>setNewPassword(e.target.value),className:\"border w-full mb-3 p-2\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 text-white py-2 px-4 rounded\",children:\"Update Password\"})]})]});};export default PasswordUpdate;","map":{"version":3,"names":["React","useState","useContext","AuthContext","updatePassword","jsx","_jsx","jsxs","_jsxs","PasswordUpdate","user","currentPassword","setCurrentPassword","newPassword","setNewPassword","message","setMessage","handleSubmit","e","preventDefault","token","err","_err$response","_err$response$data","console","error","response","data","className","children","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["C:/Users/91630/store-rating-app/frontend/src/pages/PasswordUpdate.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport { updatePassword } from '../services/authService';\r\n\r\nconst PasswordUpdate = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await updatePassword(currentPassword, newPassword, user.token);\r\n      setMessage('Password updated successfully');\r\n      setCurrentPassword('');\r\n      setNewPassword('');\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(err.response?.data?.message || 'Failed to update password');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto mt-10 p-6 border rounded shadow\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Update Password</h2>\r\n      {message && <p className=\"mb-2 text-red-500\">{message}</p>}\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Current Password\"\r\n          value={currentPassword}\r\n          onChange={(e) => setCurrentPassword(e.target.value)}\r\n          className=\"border w-full mb-3 p-2\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n          value={newPassword}\r\n          onChange={(e) => setNewPassword(e.target.value)}\r\n          className=\"border w-full mb-3 p-2\"\r\n          required\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-blue-600 text-white py-2 px-4 rounded\"\r\n        >\r\n          Update Password\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PasswordUpdate;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,cAAc,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzD,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAEC,IAAK,CAAC,CAAGR,UAAU,CAACC,WAAW,CAAC,CACxC,KAAM,CAACQ,eAAe,CAAEC,kBAAkB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACY,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAgB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAf,cAAc,CAACO,eAAe,CAAEE,WAAW,CAAEH,IAAI,CAACU,KAAK,CAAC,CAC9DJ,UAAU,CAAC,+BAA+B,CAAC,CAC3CJ,kBAAkB,CAAC,EAAE,CAAC,CACtBE,cAAc,CAAC,EAAE,CAAC,CACpB,CAAE,MAAOO,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZC,OAAO,CAACC,KAAK,CAACJ,GAAG,CAAC,CAClBL,UAAU,CAAC,EAAAM,aAAA,CAAAD,GAAG,CAACK,QAAQ,UAAAJ,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcK,IAAI,UAAAJ,kBAAA,iBAAlBA,kBAAA,CAAoBR,OAAO,GAAI,2BAA2B,CAAC,CACxE,CACF,CAAC,CAED,mBACEP,KAAA,QAAKoB,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/DvB,IAAA,OAAIsB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,CAC9Dd,OAAO,eAAIT,IAAA,MAAGsB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEd,OAAO,CAAI,CAAC,cAC1DP,KAAA,SAAMsB,QAAQ,CAAEb,YAAa,CAAAY,QAAA,eAC3BvB,IAAA,UACEyB,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAEtB,eAAgB,CACvBuB,QAAQ,CAAGhB,CAAC,EAAKN,kBAAkB,CAACM,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE,CACpDL,SAAS,CAAC,wBAAwB,CAClCQ,QAAQ,MACT,CAAC,cACF9B,IAAA,UACEyB,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,cAAc,CAC1BC,KAAK,CAAEpB,WAAY,CACnBqB,QAAQ,CAAGhB,CAAC,EAAKJ,cAAc,CAACI,CAAC,CAACiB,MAAM,CAACF,KAAK,CAAE,CAChDL,SAAS,CAAC,wBAAwB,CAClCQ,QAAQ,MACT,CAAC,cACF9B,IAAA,WACEyB,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CACrD,iBAED,CAAQ,CAAC,EACL,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}